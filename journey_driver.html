<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DAE Digital Fleet App - POC Stage for PETROS</title>
  <style>
    *, *::before, *::after {
      margin: 0; padding: 0; box-sizing: border-box;
    }

    body {
      background: #0D1B3E;
      color: #fff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
      min-height: 100vh;
      padding: 64px 32px 96px;
    }

    /* ─── Page Header ─────────────────────────────── */
    .page-header {
      max-width: 900px;
      margin: 0 auto 72px;
      text-align: center;
    }

    /* Logo row: DAE logo | title block | PETROS logo */
    .logo-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }

    .logo-row .dae-logo {
      height: 36px;
      width: auto;
      filter: brightness(0) invert(1);
      opacity: 0.9;
      flex-shrink: 0;
    }

    .logo-row .petros-logo {
      height: 36px;
      width: auto;
      object-fit: contain;
      flex-shrink: 0;
    }

    .logo-title-block {
      text-align: center;
    }

    .page-header h1 {
      font-size: 38px;
      font-weight: 700;
      letter-spacing: -0.6px;
      line-height: 1.15;
      margin-bottom: 4px;
      color: #fff;
    }

    .poc-label {
      display: block;
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1.3px;
      color: #FFA500;
    }

    .page-header p {
      font-size: 15px;
      color: rgba(255, 255, 255, 0.45);
      line-height: 1.6;
      margin-top: 12px;
    }

    /* ─── Timeline Container ──────────────────────── */
    .timeline {
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      padding-left: 80px;
    }

    /* Vertical connector line — runs behind all circles */
    .timeline::before {
      content: '';
      position: absolute;
      left: 27px; /* center of 54px circle */
      top: 54px;
      bottom: 54px;
      width: 2px;
      background: linear-gradient(
        to bottom,
        rgba(30, 144, 255, 0.85) 0%,
        rgba(30, 144, 255, 0.4) 60%,
        rgba(30, 144, 255, 0.08) 100%
      );
    }

    /* ─── Individual Step ─────────────────────────── */
    .step {
      position: relative;
      margin-bottom: 36px;
    }

    .step:last-child {
      margin-bottom: 0;
    }

    /* Circle marker */
    .step-marker {
      position: absolute;
      left: -80px;
      top: 22px;
      width: 54px;
      height: 54px;
      border-radius: 50%;
      background: linear-gradient(135deg, #2196f3 0%, #0d6ed6 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 17px;
      font-weight: 700;
      color: #fff;
      box-shadow:
        0 0 0 4px rgba(30, 144, 255, 0.15),
        0 6px 24px rgba(30, 144, 255, 0.45);
      z-index: 1;
    }

    /* Card */
    .step-card {
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 18px;
      padding: 26px 26px 26px 28px;
      display: flex;
      gap: 28px;
      align-items: flex-start;
      transition: border-color 0.25s ease, background 0.25s ease;
    }

    .step-card:hover {
      border-color: rgba(30, 144, 255, 0.28);
      background: rgba(30, 144, 255, 0.04);
    }

    /* ─── Text Side ───────────────────────────────── */
    .step-text {
      flex: 1;
      min-width: 0;
      padding-top: 2px;
    }

    .step-badge {
      display: inline-block;
      background: rgba(30, 144, 255, 0.1);
      border: 1px solid rgba(30, 144, 255, 0.3);
      color: #5BAEFF;
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.9px;
      padding: 3px 10px;
      border-radius: 100px;
      margin-bottom: 11px;
    }

    .step-title {
      font-size: 17px;
      font-weight: 600;
      line-height: 1.35;
      margin-bottom: 11px;
      color: #fff;
    }

    .step-description {
      font-size: 13.5px;
      color: rgba(255, 255, 255, 0.52);
      line-height: 1.7;
    }

    .step-description ul {
      margin-top: 9px;
      padding-left: 0;
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .step-description ul li {
      display: flex;
      gap: 8px;
      align-items: baseline;
      font-size: 13px;
      color: rgba(255, 255, 255, 0.45);
    }

    .step-description ul li .li-key {
      flex-shrink: 0;
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #5BAEFF;
      opacity: 0.75;
      min-width: 14px;
    }

    /* ─── Preview Side ────────────────────────────── */
    .step-preview-wrap {
      flex-shrink: 0;
      width: 182px;
    }

    .preview-label {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.9px;
      color: rgba(255, 255, 255, 0.25);
      margin-bottom: 8px;
      text-align: center;
    }

    /* Phone-shaped preview frame */
    .preview-phone {
      width: 182px;
      height: 214px;
      border-radius: 14px;
      overflow: hidden;
      border: 1px solid rgba(30, 144, 255, 0.22);
      background: #060d22;
      position: relative;
    }

    /* iframe scaled to fit: 430px → 182px = 0.4233 scale */
    .preview-phone iframe {
      width: 430px;
      height: 506px;  /* 214 / 0.4233 ≈ 506px to fill container height */
      border: none;
      transform: scale(0.4233);
      transform-origin: top left;
      pointer-events: none;
      display: block;
    }

    /* Placeholder for unprototyped screens */
    .preview-placeholder {
      width: 182px;
      height: 214px;
      border-radius: 14px;
      border: 1px dashed rgba(30, 144, 255, 0.28);
      background: rgba(30, 144, 255, 0.03);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 11px;
      color: rgba(255, 255, 255, 0.28);
      font-size: 12px;
      line-height: 1.55;
      text-align: center;
    }

    .placeholder-icon {
      opacity: 0.4;
    }

    /* ─── Footer ──────────────────────────────────── */
    .page-footer {
      max-width: 900px;
      margin: 60px auto 0;
      padding-top: 28px;
      border-top: 1px solid rgba(255, 255, 255, 0.07);
      text-align: center;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.22);
      line-height: 1.7;
    }

    /* ─── Mobile Responsive ───────────────────────── */
    @media (max-width: 640px) {
      body { padding: 36px 16px 64px; }
      .page-header { margin-bottom: 44px; }
      .page-header h1 { font-size: 26px; }
      .logo-row .dae-logo, .logo-row .petros-logo { height: 26px; }
      .logo-row { gap: 12px; }
      .page-header p { font-size: 13px; }
      .timeline { padding-left: 52px; }
      .timeline::before { left: 17px; }
      .step-marker { left: -52px; width: 36px; height: 36px; font-size: 13px; top: 18px; }
      .step-card { flex-direction: column; gap: 18px; padding: 20px; border-radius: 14px; }
      .step-preview-wrap { width: 100%; }
      .preview-phone { width: 100%; max-width: 280px; height: 200px; margin: 0 auto; }
      .preview-phone iframe { width: 430px; height: 473px; transform: scale(calc(280/430)); transform-origin: top left; }
      .preview-placeholder { width: 100%; max-width: 280px; height: 160px; margin: 0 auto; }
      .step-title { font-size: 15px; }
      .step-description { font-size: 12.5px; }
    }
  </style>
</head>
<body>

  <!-- ── Header ─────────────────────────────────────── -->
  <header class="page-header">
    <div class="logo-row">
      <img src="logo-nobackground.svg" alt="DAE Logo" class="dae-logo">
      <div class="logo-title-block">
        <h1>DAE Digital Fleet App</h1>
        <span class="poc-label">POC Stage for PETROS</span>
      </div>
      <img src="petros.svg.png" alt="PETROS Logo" class="petros-logo">
    </div>
    <p>Fleet Driver Journey — end-to-end experience from onboarding to transaction history</p>
  </header>

  <!-- ── Timeline ──────────────────────────────────── -->
  <div class="timeline">

    <!-- ── Step 1: Onboarding ── -->
    <div class="step">
      <div class="step-marker">1</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">Onboarding</span>
          <h2 class="step-title">Onboarding &amp; Fleet Card Provisioning</h2>
          <p class="step-description">
            The driver verifies their mobile number via OTP; the system auto-provisions a virtual fleet card and assigns the employer's vehicle, approved fuel type, and allowance limits — no physical card issuance required.
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">App Preview</p>
          <div class="preview-phone">
            <iframe id="iframe-1" src="index.html" loading="lazy" title="Onboarding screen"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- ── Step 2: NFC Tap ── -->
    <div class="step">
      <div class="step-marker">2</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">NFC Verification</span>
          <h2 class="step-title">Mobile Phone Tap on NFC Sticker</h2>
          <p class="step-description">
            At the forecourt, the driver taps their phone on the NFC sticker fixed to the vehicle windshield to cryptographically confirm they are operating their assigned vehicle before any fuel authorisation is issued.
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">App Preview</p>
          <div class="preview-phone">
            <iframe id="iframe-2" src="index.html" loading="lazy" title="NFC tap screen"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- ── Step 3: Fleet App Authentication ── -->
    <div class="step">
      <div class="step-marker">3</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">QR Code</span>
          <h2 class="step-title">Fleet App Authentication</h2>
          <p class="step-description">
            A time-limited QR code appears on the driver's phone. The driver presents this to the cashier's scanner to authorise the pump. The code displays:
            <ul>
              <li><span class="li-key">a</span> Company name</li>
              <li><span class="li-key">b</span> Driver's name</li>
              <li><span class="li-key">c</span> Vehicle plate number</li>
              <li><span class="li-key">d</span> Approved fuel type</li>
              <li><span class="li-key">e</span> Maximum amount allowed (MYR)</li>
            </ul>
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">App Preview</p>
          <div class="preview-phone">
            <iframe id="iframe-3" src="index.html" loading="lazy" title="QR authentication screen"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- ── Step 4: Walk into C-Store for Fueling Approval ── -->
    <div class="step">
      <div class="step-marker">4</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">C-Store</span>
          <h2 class="step-title">Walk into C-Store for Fueling Approval</h2>
          <p class="step-description">
            The driver walks to the C-store and shows the QR code to the cashier. The cashier uses the dedicated Sunmi EDC terminal to scan the code, which displays the same verified information:
            <ul>
              <li><span class="li-key">a</span> Company name</li>
              <li><span class="li-key">b</span> Driver's name</li>
              <li><span class="li-key">c</span> Vehicle plate number</li>
              <li><span class="li-key">d</span> Approved fuel type</li>
              <li><span class="li-key">e</span> Maximum amount allowed (MYR)</li>
            </ul>
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">Sunmi Terminal</p>
          <div class="preview-placeholder">
            <!-- Terminal / scanner icon -->
            <svg class="placeholder-icon" width="38" height="38" viewBox="0 0 24 24" fill="none"
              stroke="rgba(30,144,255,0.7)" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
              <rect x="5" y="2" width="14" height="20" rx="2"/>
              <line x1="9" y1="7" x2="15" y2="7"/>
              <line x1="9" y1="11" x2="15" y2="11"/>
              <circle cx="12" cy="17" r="1"/>
            </svg>
            Sunmi EDC screen<br>not yet prototyped
          </div>
        </div>
      </div>
    </div>

    <!-- ── Step 5: Approved for Fueling ── -->
    <div class="step">
      <div class="step-marker">5</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">Pump Auth</span>
          <h2 class="step-title">Approved for Fueling</h2>
          <p class="step-description">
            Once the cashier verifies the driver's details and the maximum allowable amount, they preset (authorise) the specific fuel type and nozzle number on the POS for the vehicle's bay. The driver's app shows an approval confirmation, and the driver walks back to the forecourt to begin fueling.
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">App Preview</p>
          <div class="preview-phone">
            <iframe id="iframe-5" src="index.html" loading="lazy" title="Approval screen"></iframe>
          </div>
        </div>
      </div>
    </div>

    <!-- ── Step 6: Receipt & Transaction History ── -->
    <div class="step">
      <div class="step-marker">6</div>
      <div class="step-card">
        <div class="step-text">
          <span class="step-badge">Completion</span>
          <h2 class="step-title">Receipt &amp; Transaction History</h2>
          <p class="step-description">
            Once the driver hangs up the nozzle, the cashier sees on the POS that fueling is complete with the final amount and litres dispensed. The cashier enters the final litre figure into the Sunmi EDC Terminal to capture the transaction on DAE's CMS back end — this triggers the automatic generation of an e-receipt, which is pushed to the driver's app. The completed transaction is logged in the in-app history for both the driver's reference and fleet manager review.
          </p>
        </div>
        <div class="step-preview-wrap">
          <p class="preview-label">App Preview</p>
          <div class="preview-phone">
            <iframe id="iframe-6" src="index.html" loading="lazy" title="Receipt screen"></iframe>
          </div>
        </div>
      </div>
    </div>

  </div><!-- /timeline -->

  <!-- ── Footer ────────────────────────────────────── -->
  <footer class="page-footer">
    DAE Digital Fleet App &nbsp;·&nbsp; POC Stage for PETROS &nbsp;·&nbsp; Driver Journey
  </footer>

  <script>
    // After each iframe finishes loading, navigate it to the target screen
    var screenMap = {
      'iframe-1': 'screen-signup-success',
      'iframe-2': 'screen-nfc',
      'iframe-3': 'screen-qr',
      'iframe-5': 'screen-approval',
      'iframe-6': 'screen-receipt'
    };

    Object.keys(screenMap).forEach(function (id) {
      var targetScreen = screenMap[id];
      var iframe = document.getElementById(id);

      iframe.addEventListener('load', function () {
        try {
          var win = iframe.contentWindow;
          if (win && typeof win.navigateTo === 'function') {
            win.navigateTo(targetScreen);
          }
        } catch (e) {
          // Same-origin access failed — silently skip
        }
      });
    });
  </script>

</body>
</html>
